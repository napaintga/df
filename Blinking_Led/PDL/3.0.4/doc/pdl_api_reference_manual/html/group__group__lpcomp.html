<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cypress Peripheral Driver Library (PDL): Low Power Comparator (LPComp)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="cypress_logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cypress Peripheral Driver Library (PDL)
   &#160;<span id="projectnumber">Version 3.0.4.57</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__group__lpcomp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">API Reference</a>  </div>
  <div class="headertitle">
<div class="title">Low Power Comparator (LPComp)</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p>Provides access to the low-power comparators implemented using the fixed-function LP comparator block that is present in PSoC 6. </p>
<p>These comparators can perform fast analog signal comparison of internal and external analog signals in all system power modes. Low-power comparator output can be inspected by the CPU, used as an interrupt/wakeup source to the CPU when in low-power mode (Sleep, Low-Power Sleep, or Deep-Sleep), used as a wakeup source to system resources when in Hibernate mode, or fed to DSI as an asynchronous or synchronous signal (level or pulse).</p>
<h1><a class="anchor" id="group_lpcomp_section_Configuration_Considerations"></a>
Configuration Considerations</h1>
<p>To set up an LPComp, the inputs, the output, the mode, the interrupts and other configuration parameters should be configured. Power the LPComp to operate.</p>
<p>The sequence recommended for the LPComp operation:</p>
<p>1) To initialize the driver, call the <a class="el" href="group__group__lpcomp__functions.html#ga8bd3aa3993770f07ff766dc78c610398" title="Initializes LPCOMP and returns the LPCOMP register address. ">Cy_LPComp_Init()</a> function providing the filled <a class="el" href="structcy__stc__lpcomp__config__t.html" title="The LPCOMP configuration structure. ">cy_stc_lpcomp_config_t</a> structure, the LPComp channel number, and the LPCOMP registers structure pointer.</p>
<p>2) Optionally, configure the interrupt requests if the interrupt event triggering is needed. Use the <a class="el" href="group__group__lpcomp__functions.html#ga68279aa775be86f1906f07cb077e67e4" title="Configures which bits of the interrupt request register will trigger an interrupt event...">Cy_LPComp_SetInterruptMask()</a> function with the parameter for the mask available in the configuration file. Additionally, enable the Global interrupts and initialize the referenced interrupt by setting the priority and the interrupt vector using the <a class="el" href="group__group__sysint__functions.html#gab2ff6820a898e9af3f780000054eea5d">Cy_SysInt_Init()</a> function of the sysint driver.</p>
<p>3) Configure the inputs and the output using the <a class="el" href="group__group__gpio__functions__init.html#gad61553f65d4e6bd827eb6464a7913461">Cy_GPIO_Pin_Init()</a> functions of the GPIO driver. The High Impedance Analog drive mode is for the inputs and the Strong drive mode is for the output. Use the <a class="el" href="group__group__lpcomp__functions.html#ga86039c548754145643a780320928c8f0" title="Sets the comparator input sources. ">Cy_LPComp_SetInputs()</a> function to connect the comparator inputs to the dedicated IO pins, AMUXBUSA/AMUXBUSB or Vref: </p><div class="image">
<img src="lpcomp_inputs.png" alt="lpcomp_inputs.png"/>
</div>
<p>4) Power on the comparator using the <a class="el" href="group__group__lpcomp__functions.html#gaff74ff9c60f85f25ee5f058162807d06" title="Enables the LPCOMP and sets the LPCOMP interrupt mode. ">Cy_LPComp_Enable()</a> function.</p>
<p>5) The comparator output can be monitored using the <a class="el" href="group__group__lpcomp__functions.html#gadc91cd80afbb17ee87fbd38dd963ec2e" title="This function returns a nonzero value when the voltage connected to the positive input is greater tha...">Cy_LPComp_GetCompare()</a> function or using the LPComp interrupt (if the interrupt is enabled).</p>
<dl class="section note"><dt>Note</dt><dd>The interrupt is not cleared automatically. It is the user's responsibility to do that. The interrupt is cleared by writing a 1 in the corresponding interrupt register bit position. The preferred way to clear interrupt sources is using the <a class="el" href="group__group__lpcomp__functions.html#ga5197f02cfc236a0280d7d18e52cfb916" title="Clears LPCOMP interrupts by setting each bit. ">Cy_LPComp_ClearInterrupt()</a> function.</dd>
<dd>
Individual comparator interrupt outputs are ORed together as a single asynchronous interrupt source before it is sent out and used to wake up the system in the low-power mode. For PSoC 6 devices, the individual comparator interrupt is masked by the INTR_MASK register. The masked result is captured in the INTR_MASKED register. Writing a 1 to the INTR register bit will clear the interrupt.</dd></dl>
<h1><a class="anchor" id="group_lpcomp_lp"></a>
Low Power Support</h1>
<p>The LPComp provides the callback functions to facilitate the low-power mode transition. The callback <a class="el" href="group__group__lpcomp__functions__syspm__callback.html#ga90503acfe1a5f6295daf82348bc10b15">Cy_LPComp_DeepSleepCallback</a> must be called during execution of <a class="el" href="group__group__syspm__functions__power.html#ga1211c6447be4863cb7ca807e2c9f98ee">Cy_SysPm_DeepSleep</a>; <a class="el" href="group__group__lpcomp__functions__syspm__callback.html#ga7ebe2cb00b8b8bcd7a1307551016b09e">Cy_LPComp_HibernateCallback</a> must be called during execution of <a class="el" href="group__group__syspm__functions__power.html#ga2929e98b966d58c9246108a767ed7f53">Cy_SysPm_Hibernate</a>. To trigger the callback execution, the callback must be registered before calling the mode transition function. Refer to <a class="el" href="group__group__syspm.html">System Power Management (SysPm)</a> driver for more information about low-power mode transitions.</p>
<h1><a class="anchor" id="group_lpcomp_more_information"></a>
More Information</h1>
<p>Refer to the appropriate device technical reference manual (TRM) for a detailed description of the registers.</p>
<h1><a class="anchor" id="group_lpcomp_MISRA"></a>
MISRA-C Compliance</h1>
<table class="doxtable">
<tr>
<th>MISRA Rule </th><th>Rule Class (Required/Advisory) </th><th>Rule Description </th><th>Description of Deviation(s)  </th></tr>
<tr>
<td>11.4 </td><td>A </td><td>A cast should not be performed between a pointer to object type and a different pointer to object type. </td><td>The pointer to the buffer memory is void to allow handling different different data types: uint8_t (4-8 bits) or uint16_t (9-16 bits). The cast operation is safe because the configuration is verified before operation is performed. The function <a class="el" href="group__group__lpcomp__functions__syspm__callback.html#ga90503acfe1a5f6295daf82348bc10b15">Cy_LPComp_DeepSleepCallback</a> is a callback of the <a class="el" href="group__group__syspm__data__enumerates.html#ga601b1cb722cb091133caf33d8ab235ca">cy_en_syspm_status_t</a> type. The cast operation safety in this function becomes the user's responsibility because the pointers are initialized when a callback is registered in the SysPm driver.  </td></tr>
</table>
<h1><a class="anchor" id="group_lpcomp_Changelog"></a>
Changelog</h1>
<table class="doxtable">
<tr>
<th>Version</th><th>Changes</th><th>Reason for Change </th></tr>
<tr>
<td>1.10.1 </td><td>Added Low Power Callback section </td><td>Documentation update and clarification  </td></tr>
<tr>
<td>1.10 </td><td>The CY_WEAK keyword is removed from <a class="el" href="group__group__lpcomp__functions__syspm__callback.html#ga90503acfe1a5f6295daf82348bc10b15" title="This function checks the current power mode of LPComp and then disables the LPComp block if there is ...">Cy_LPComp_DeepSleepCallback()</a> and <a class="el" href="group__group__lpcomp__functions__syspm__callback.html#ga7ebe2cb00b8b8bcd7a1307551016b09e" title="This function checks the current power mode of LPComp and then disable the LPComp block...">Cy_LPComp_HibernateCallback()</a> functions<br />
 Added input parameter validation to the API functions. </td><td></td></tr>
<tr>
<td>1.0 </td><td>Initial version </td><td></td></tr>
</table>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
API Reference</h2></td></tr>
<tr class="memitem:group__group__lpcomp__macros"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__lpcomp__macros.html">Macros</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__group__lpcomp__functions"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__lpcomp__functions.html">Functions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__group__lpcomp__data__structures"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__lpcomp__data__structures.html">Data Structures</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__group__lpcomp__enums"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__lpcomp__enums.html">Enumerated Types</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>Cypress Peripheral Driver Library (PDL)</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
