<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cypress Secure Image: Secure Image tasks</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="cypress_logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cypress Secure Image
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__group__secure__image__functions__tasks.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Secure Image tasks<div class="ingroups"><a class="el" href="group__group__secure__image__functions.html">Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3faba76962af37359423dd7b6a80edd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__secure__image__functions__tasks.html#ga3faba76962af37359423dd7b6a80edd8">Cy_SI_ErrorTask</a> (void)</td></tr>
<tr class="memdesc:ga3faba76962af37359423dd7b6a80edd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Catch-all unrecoverable error handler task.  <a href="#ga3faba76962af37359423dd7b6a80edd8">More...</a><br /></td></tr>
<tr class="separator:ga3faba76962af37359423dd7b6a80edd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1326da62f9579cdec0204d681729a617"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__secure__image__functions__tasks.html#ga1326da62f9579cdec0204d681729a617">Cy_SI_SysCallTask</a> (void)</td></tr>
<tr class="memdesc:ga1326da62f9579cdec0204d681729a617"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interprets the SysCall requests and applies the pre-processing and boundary checks.  <a href="#ga1326da62f9579cdec0204d681729a617">More...</a><br /></td></tr>
<tr class="separator:ga1326da62f9579cdec0204d681729a617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8b0b21bc611933c0b8fee8c2b4849a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__secure__image__functions__tasks.html#gad8b0b21bc611933c0b8fee8c2b4849a4">Cy_SI_CryptoTask</a> (void)</td></tr>
<tr class="memdesc:gad8b0b21bc611933c0b8fee8c2b4849a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interprets the Crypto requests and applies pre-processing and checks.  <a href="#gad8b0b21bc611933c0b8fee8c2b4849a4">More...</a><br /></td></tr>
<tr class="separator:gad8b0b21bc611933c0b8fee8c2b4849a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3faba76962af37359423dd7b6a80edd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3faba76962af37359423dd7b6a80edd8">&#9670;&nbsp;</a></span>Cy_SI_ErrorTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CY_NOINLINE void Cy_SI_ErrorTask </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Catch-all unrecoverable error handler task. </p>
<p>Note that invalid bus-accesses related to PC!=0 access go the the hardfault handler. A fault structure (FAULT_STRUCT0, FAULT_STRUCT1) can optionally be used to determine the source of the offending access. </p>

</div>
</div>
<a id="ga1326da62f9579cdec0204d681729a617"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1326da62f9579cdec0204d681729a617">&#9670;&nbsp;</a></span>Cy_SI_SysCallTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CY_NOINLINE void Cy_SI_SysCallTask </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interprets the SysCall requests and applies the pre-processing and boundary checks. </p>
<p>If successful, the ROM Handler is invoked to perform the appropriate syscall routines.</p>
<p>The ROM Handler reads the INTR_MASKED register to determine if there's a SysCall request. Requests must be serialized to account for the opcodes that exit out of PC=0 from the ROM. The SysCall interrupt is temporarily disabled to allow requests from other IPC_STRUCTs to continue being registered, while at the same time allowing the serialization to work as intended.</p>
<dl class="section note"><dt>Note</dt><dd>Pre-processing and checks are not applied to the Test Controller (TC)/DAP as a number of opcodes are needed for the debugger during NORMAL mode access. The TC is also the only mechanism to transition the device to SECURE Mode. Once the transition is complete, the TC will no longer be available for use and hence all SysCalls through it will be locked out.</dd>
<dd>
It is recommended that the IPC_STRUCT, IPC_INTR_STRUCT and the memory region pointed to in the IPC_STRUCT.DATA register be protected using protection units.</dd>
<dd>
The following opcodes exit out of PC=0 when the requests come from PC!=0 bus masters. They are either disallowed altogether or restricted to PC=0 bus masters.<ul>
<li>CY_SI_OPCODE_READ_EFUSE_BYTE</li>
<li>CY_SI_OPCODE_CHECKSUM</li>
<li>CY_SI_OPCODE_COMPUTE_HASH</li>
<li>CY_SI_OPCODE_CONFIG_REGION_BULK</li>
<li>CY_SI_OPCODE_DIRECT_EXECUTE </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gad8b0b21bc611933c0b8fee8c2b4849a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad8b0b21bc611933c0b8fee8c2b4849a4">&#9670;&nbsp;</a></span>Cy_SI_CryptoTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CY_NOINLINE void Cy_SI_CryptoTask </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interprets the Crypto requests and applies pre-processing and checks. </p>
<p>If successful, the request is passed to the Crypto server processing to execute the routine.</p>
<p>Note: Crypto has access to all device resources and hence can be used to move sensitive data to unprotected regions. Therefore extensive address checking should be applied to ensure that the security is not compromised. It is also recommended that the IPC_STRUCT, IPC_INTR_STRUCT and the memory region pointed to in the IPC_STRUCT.DATA register be protected using protection units. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>Cypress Secure Image</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
