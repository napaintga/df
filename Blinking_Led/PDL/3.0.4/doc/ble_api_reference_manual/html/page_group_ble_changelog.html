<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cypress BLE Middleware Library: Changelog</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="cypress_logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cypress BLE Middleware Library
   &#160;<span id="projectnumber">2.20</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page_group_ble_changelog.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Changelog </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="section_group_ble_changelog_BLE_Middleware_Changes"></a>
BLE Middleware Changes</h1>
<p>This section lists changes made to the BLE Middleware. </p><table class="doxtable">
<tr>
<th><b>Version</b></th><th><b>Changes</b></th><th><p class="starttd"><b>Reason for Change</b></p>
<p class="endtd"></p>
</th></tr>
<tr>
<td rowspan="6">2.20 </td><td>Added support for PILO.  </td><td>PSoC 6 BLE supports Precision ILO (PILO) which can be used as an LF clock source. Refer to <a class="el" href="page_ble_functional_description.html#group_ble_lfclk_conf">LFCLK Configuration for Deep Sleep Mode</a> for more details.   </td></tr>
<tr>
<td>Updated the <a class="el" href="group__group__ble__common__api__functions.html#ga1590f7ff12022997c336b8a271d3802e" title="This function registers an application Host callback (BLE RTOS hook). ">Cy_BLE_RegisterAppHostCallback()</a> functionality. </td><td>Added support for BLE Single mode.   </td></tr>
<tr>
<td>Updated Write Request events handler in BLE middleware. Return CY_BLE_GATT_ERR_INVALID_HANDLE if the attribute handle is out of database range.  </td><td>Handling invalid range of attribute handle during Write Request event.   </td></tr>
<tr>
<td>Updated flash memory calculation for Bonded device list  </td><td>The function Cy_BLE_StackInit() returned CY_BLE_ERROR_INVALID_PARAMETER when the Resolving list parameter is set to 1.   </td></tr>
<tr>
<td>Documentation updates.  </td><td>Documentation update and clarification. Removed the Errata section.   </td></tr>
<tr>
<td>Updated the BLE Stack to version 5.0.2.917. </td><td><p class="starttd">Refer to <a class="el" href="page_group_ble_changelog.html#section_group_ble_changelog_BLE_Stack_Changes">BLE Stack Changes</a> </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td rowspan="2">2.10 </td><td>Added return value CY_BLE_ERROR_FLASH_WRITE_NOT_PERMITED for following functions: <a class="el" href="group__group__ble__common__api__functions.html#gae34ba6a9039ee7e8f7b406b1ea0f1cf0" title="This function is used to back up application-specific data into the flash. ">Cy_BLE_StoreAppData()</a><br />
<a class="el" href="group__group__ble__common__api__functions.html#ga778852ddcd6a37606668984aca7c3754" title="This function writes the new bonding data from RAM to the dedicated Flash location as defined by the ...">Cy_BLE_StoreBondingData()</a><br />
 Added assertion in Cy_BLE_HAL_NvramWrite() to catch failure (CY_SYSPM_INVALID_STATE) during increasing core voltage from 0.9V to 1.1V for Flash operation.  </td><td>Flash operation is not permitted with protection context (PC) value &gt; 0 and core voltage 0.9V, because of a preproduction hardware limitation.   </td></tr>
<tr>
<td>Documentation updates.  </td><td><p class="starttd">Documentation update and clarification.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td rowspan="5">2.0<br />
 Production </td><td>Added the BLE user configuration file cy_ble_config.h.  </td><td>To make the BLE configuration more flexible. Allows redefining the configuration define(s) generated by the BLE customizer and default BLE clock defines (from cy_ble_clk.h).   </td></tr>
<tr>
<td>Updated the BLE Interrupt Notification Feature.  </td><td>Added support for BLE Dual mode.  </td></tr>
<tr>
<td>Updated the <a class="el" href="group__group__ble__common__api__gatt__server__functions.html#ga27fc940942188f1bb26364ab21a77bed" title="Wrapper API for Cy_BLE_GATTS_ReadAttributeValue() to trigger a local initiated attribute value read o...">Cy_BLE_GATTS_ReadAttributeValueLocal()</a> and <a class="el" href="group__group__ble__common__api__gatt__server__functions.html#ga6297d202cdac41fb65d63fd57f8c529c" title="Wrapper API for Cy_BLE_GATTS_ReadAttributeValue() to trigger a peer initiated attribute value read op...">Cy_BLE_GATTS_ReadAttributeValuePeer()</a> functions.  </td><td>Those functions have the wrong Locally/Peer initiate operation flag.  </td></tr>
<tr>
<td>The following defined values for the CY_BLE_STACK_MODE configuration parameter were deprecated:<br />
 CY_BLE_STACK_HOST_ONLY<br />
 CY_BLE_STACK_HOST_CONTR_UART<br />
 CY_BLE_STACK_HOST_IPC.<br />
 The following defined values were renamed:<br />
 CY_BLE_STACK_DEBUG to CY_BLE_STACK_MODE_SINGLE_SOC <br />
 CY_BLE_STACK_RELEASE to CY_BLE_STACK_MODE_DUAL_IPC.<br />
  </td><td>Deprecated not supported (debug) modes.<br />
 The defines CY_BLE_CONFIG_STACK_DEBUG and CY_BLE_CONFIG_STACK_RELEASE were renamed to have more meaningful name.   </td></tr>
<tr>
<td>The BLE Stack was updated to version 5.0.0.898.  </td><td><p class="starttd">Refer to <a class="el" href="page_group_ble_changelog.html#section_group_ble_changelog_BLE_Stack_Changes">BLE Stack Changes</a> </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td rowspan="2">2.0<br />
 BETA#2 </td><td>Added new API: <br />
 <a class="el" href="group__group__ble__common__api__functions.html#gaf33761a3b24ccf96b4b659b251ef19f0" title="The function is used to get the device pairing state. ">Cy_BLE_IsDevicePaired()</a>,<br />
 <a class="el" href="group__group__ble__common__api__functions.html#gabc74705f034cd89fa8de16e93e223119" title="The function returns the local link layer device role which is connected to peer device with connecti...">Cy_BLE_GetDeviceRole()</a>,<br />
 <a class="el" href="group__group__ble__common__api__functions.html#ga5021cf50fca185598f86aee60e276f73" title="This function checks if the peer device represented by the bdAddr parameter is connected or not...">Cy_BLE_IsPeerConnected()</a>,<br />
 <a class="el" href="group__group__ble__common__api__gatt__server__functions.html#ga83833a69e752df584bf934e657269b6b" title="Wrapper API for Cy_BLE_GATTS_WriteAttributeValue() to trigger a peer initiated attribute value write ...">Cy_BLE_GATTS_WriteAttributeValuePeer()</a>,<br />
 <a class="el" href="group__group__ble__common__api__gatt__server__functions.html#ga95db4f1380702b6b24efeef544cb1502" title="Wrapper API for Cy_BLE_GATTS_WriteAttributeValue to trigger a locally initiated attribute value write...">Cy_BLE_GATTS_WriteAttributeValueLocal()</a>,<br />
 <a class="el" href="group__group__ble__common__api__gatt__server__functions.html#ga6297d202cdac41fb65d63fd57f8c529c" title="Wrapper API for Cy_BLE_GATTS_ReadAttributeValue() to trigger a peer initiated attribute value read op...">Cy_BLE_GATTS_ReadAttributeValuePeer()</a>,<br />
 <a class="el" href="group__group__ble__common__api__gatt__server__functions.html#ga27fc940942188f1bb26364ab21a77bed" title="Wrapper API for Cy_BLE_GATTS_ReadAttributeValue() to trigger a local initiated attribute value read o...">Cy_BLE_GATTS_ReadAttributeValueLocal()</a>,<br />
 <a class="el" href="group__group__ble__common__api__gatt__server__functions.html#ga5637f7d1c98396861fa5473aaa0e4935" title="Wrapper API to read CCCD attribute value from the local GATT database and check if the indication is ...">Cy_BLE_GATTS_IsIndicationEnabled()</a>,<br />
 <a class="el" href="group__group__ble__common__api__gatt__server__functions.html#ga8f9c0c5d189db93aa25f9368059f1672" title="Wrapper API to write the attribute value to local GATT database and send the updated value to the pee...">Cy_BLE_GATTS_SendIndication()</a>,<br />
 <a class="el" href="group__group__ble__common__api__gatt__server__functions.html#gac49f73eea18ed60ffc71ff218f664ae7" title="Wrapper API to read CCCD attribute value from the local GATT database and check if the notification i...">Cy_BLE_GATTS_IsNotificationEnabled()</a>,<br />
 <a class="el" href="group__group__ble__common__api__gatt__server__functions.html#gaf52c8c5d584562649b4c02bdb4673790" title="Wrapper API to write the attribute value to local GATT database and send the updated value to the pee...">Cy_BLE_GATTS_SendNotification()</a>,<br />
 <a class="el" href="group__group__ble__common__api__gatt__server__functions.html#ga144da11ae3b06cec1d3d52b669ce7882" title="Replacement for Cy_BLE_GATTS_ErrorRsp() API. ">Cy_BLE_GATTS_SendErrorRsp()</a>,<br />
 <a class="el" href="group__group__ble__common__api__gatt__client__functions.html#gaba9c39370753dfc17b8aafed74881c35" title="Replacement for Cy_BLE_GATTC_Confirmation() API. ">Cy_BLE_GATTC_SendConfirmation()</a>.  </td><td>Improve usability  </td></tr>
<tr>
<td>The BLE Stack was updated to version 5.0.0.855. </td><td><p class="starttd">Refer to <a class="el" href="page_group_ble_changelog.html#section_group_ble_changelog_BLE_Stack_Changes">BLE Stack Changes</a> </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td rowspan="4">2.0 <br />
 BETA#1 </td><td>Renamed API: <br />
 Cy_BLE_GAP_UpdateAdvScanData() to <a class="el" href="group__group__ble__common__api__gap__peripheral__functions.html#gabb8ab6894ec553068f75d5f81a95aeda" title="This function is used by GAP Peripheral application to set Advertisement and/or Scan Response data...">Cy_BLE_GAPP_UpdateAdvScanData()</a>; <br />
 Cy_BLE_SetConnectionPriority() to <a class="el" href="group__group__ble__common__api__gap__functions.html#gae11049cc1da0686a4393e7db503ee282" title="This function sets the Controller connection priority to be used for a connection during arbitration...">Cy_BLE_GAP_SetConnectionPriority()</a>. <br />
  </td><td>Consistent API naming scheme  </td></tr>
<tr>
<td>Made the maximum number of connections configurable. </td><td>SRAM consumption reducing when extra connections are not used.  </td></tr>
<tr>
<td>Added new options for the CPU Core parameter. </td><td>Support of single core devices.  </td></tr>
<tr>
<td>The BLE Stack was updated to version 5.0.0.785. </td><td><p class="starttd">Refer to <a class="el" href="page_group_ble_changelog.html#section_group_ble_changelog_BLE_Stack_Changes">BLE Stack Changes</a> </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>1.0 </td><td>Initial version. </td><td></td></tr>
</table>
<h1><a class="anchor" id="section_group_ble_changelog_BLE_Stack_Changes"></a>
BLE Stack Changes</h1>
<p>This section lists changes made to the BLE Stack.</p>
<table class="doxtable">
<tr>
<th><b>Version</b></th><th><b>Changes</b></th><th><p class="starttd"><b>Reason for Change</b></p>
<p class="endtd"></p>
</th></tr>
<tr>
<td rowspan="3">5.0.2.917 </td><td>Added a new BLE event - CY_BLE_EVT_GAP_ADV_TX, which is triggered on transmission of an ADV packet (if this feature is enabled).  </td><td>Support for BLE mesh.  </td></tr>
<tr>
<td>Dual Core: Stack Shutdown sequence modified to shut down controller before sending CY_BLE_EVT_STACK_SHUTDOWN_COMPLETE event.  </td><td>The controller was shut-down after informing the application that shutdown had been completed.   </td></tr>
<tr>
<td>Updated the Cy_BLE_HAL_BlessInterruptHandler API to return status.  </td><td><p class="starttd">This return parameter indicates that user should call <a class="el" href="group__group__ble__common__api__functions.html#ga0f1982f915c28b0d5a317442bec9eafc" title="This function checks the internal task queue in the BLE Stack, and pending operation of the BLE Stack...">Cy_BLE_ProcessEvents()</a> to process pending BLE Stack events. </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td rowspan="4">5.0.1.906 </td><td>Added check for any pending real time procedures before allowing autonomous PHY update request.  </td><td>Autonomous PHY update request was being initiated without a check for "LL control procedure collision".   </td></tr>
<tr>
<td>Fixed memory allocation failure issue observed when initializing buffer pool for ACL Rx Packet.  </td><td>Memory allocation failure was observed when DLE Rx Octet &lt; TxOctet.   </td></tr>
<tr>
<td>Added support to disconnect LE link whenever there is real-time LL procedure collision.  </td><td>Consistent with BLE Spec 5.0 erratum 7106  </td></tr>
<tr>
<td>Added support for PILO.  </td><td><p class="starttd">PSoC 6 BLE supports a Precision ILO which can be used as an LF clock source instead of the WCO.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td rowspan="2">5.0.0.898 </td><td>Enhancement is done to rerun the scheduler on close CE, if the event about to be scheduled is in past.  </td><td>Blocking flash write operation blocks the CPU from executing any interrupts (including BLESS isr) for &gt; 17ms, Due to this, if the CI for connection is smaller than 17ms, the BLE link will disconnect.   </td></tr>
<tr>
<td>The calibration target value for the Max output power level is modified under the user-defined condition. </td><td><p class="starttd">The enhancement to support the 5dBm Tx power in the BLE stack. </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td rowspan="3">5.0.0.855 </td><td>Changed the input parameter for the <a class="el" href="group__group__ble__common__api__functions.html#gad55cb28342cfcbbf87c4e466ac4aa08b" title="This function is used to set the mask that will enable/disable any custom/customer specific events th...">Cy_BLE_SetCustomEventMask()</a> API from (uint8* mask) to (uint32 mask). </td><td>Consistent with the bit mask scheme.   </td></tr>
<tr>
<td>1.The timer context was never reset, it is made to reset during the Stack shutdown. <br />
 2.The timer context was not freed even when the timer start failed. It is made free when the timer start fails due to any reason.  </td><td>The <a class="el" href="group__group__ble__common__api__gap__central__functions.html#gaf05df8db69912fcab86883b2618eb66e" title="This function used to stop the discovery of devices. ">Cy_BLE_GAPC_StopScan()</a> function returns CY_BLE_ERROR_MAX when the <a class="el" href="group__group__ble__common__api__gap__central__functions.html#gaf05df8db69912fcab86883b2618eb66e" title="This function used to stop the discovery of devices. ">Cy_BLE_GAPC_StopScan()</a> function is called to stop a previously-initiated scanning procedure. This issue occurs only when the authentication procedure is occurring and the application tries to stop the scan   </td></tr>
<tr>
<td>1.The DLE control procedure timer is started only if the queuing Data Length Request in the Hardware FIFO is successful.<br />
 2.Added checks to handle the race condition between the ACK processing and Handling data PDU's from the Host.  </td><td><p class="starttd">Unexpected disconnection due to an LMP Response timeout in the embedded stress application. This issue is due to:<br />
 1.The DLE control procedure timer was started even if the sending Data Length Request PDU failed when queuing it in the Hardware FIFO.<br />
 2.Due to the race condition between the ACK processing and Handling data PDU's from the Host.  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>5.0.0.785 </td><td>Initial BLE Stack version.  </td><td></td></tr>
</table>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>Cypress BLE Middleware Library</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
