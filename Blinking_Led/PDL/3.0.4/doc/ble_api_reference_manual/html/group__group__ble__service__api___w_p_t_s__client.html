<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cypress BLE Middleware Library: WPTS Client Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="cypress_logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cypress BLE Middleware Library
   &#160;<span id="projectnumber">2.20</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__group__ble__service__api___w_p_t_s__client.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">WPTS Client Functions<div class="ingroups"><a class="el" href="group__group__ble__service__api.html">BLE Service-Specific API</a> &raquo; <a class="el" href="group__group__ble__service__api___w_p_t_s.html">Wireless Power Transfer Service (WPTS)</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p>API unique to WPTS designs configured as a GATT Client role. </p>
<p>A letter 'c' is appended to the API name: Cy_BLE_WPTSC_ </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1dc78b9c67a8b21bc2fc2030fb2fc87e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__ble__common__api__definitions.html#ga63f6be7f53f5ad7d82c394e4cdfa619e">cy_en_ble_api_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__ble__service__api___w_p_t_s__client.html#ga1dc78b9c67a8b21bc2fc2030fb2fc87e">Cy_BLE_WPTSC_Discovery</a> (<a class="el" href="group__group__ble__common__api__gatt__definitions.html#ga7609ec9fd5973eadda6b98e8dfbda580">cy_ble_gatt_db_attr_handle_t</a> servHandle, <a class="el" href="structcy__stc__ble__conn__handle__t.html">cy_stc_ble_conn_handle_t</a> connHandle)</td></tr>
<tr class="memdesc:ga1dc78b9c67a8b21bc2fc2030fb2fc87e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function discovers the PRU's WPT service and characteristics using the GATT Primary Service Handle, received through the WPT Service Data within the PRU advertisement payload, together with the handle offsets defined A4WP specification.  <a href="#ga1dc78b9c67a8b21bc2fc2030fb2fc87e">More...</a><br /></td></tr>
<tr class="separator:ga1dc78b9c67a8b21bc2fc2030fb2fc87e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3920321a4c662e0e59e211e9b10559c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__ble__common__api__definitions.html#ga63f6be7f53f5ad7d82c394e4cdfa619e">cy_en_ble_api_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__ble__service__api___w_p_t_s__client.html#gaf3920321a4c662e0e59e211e9b10559c">Cy_BLE_WPTSC_SetCharacteristicValue</a> (<a class="el" href="structcy__stc__ble__conn__handle__t.html">cy_stc_ble_conn_handle_t</a> connHandle, <a class="el" href="group__group__ble__service__api___w_p_t_s__definitions.html#gaa487cfa444741a51b293f4e2fb64cadd">cy_en_ble_wpts_char_index_t</a> charIndex, uint8_t attrSize, uint8_t *attrValue)</td></tr>
<tr class="memdesc:gaf3920321a4c662e0e59e211e9b10559c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to write the characteristic (which is identified by charIndex) value attribute in the server.  <a href="#gaf3920321a4c662e0e59e211e9b10559c">More...</a><br /></td></tr>
<tr class="separator:gaf3920321a4c662e0e59e211e9b10559c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga871981d8592f58ccaa022de220061558"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__ble__common__api__definitions.html#ga63f6be7f53f5ad7d82c394e4cdfa619e">cy_en_ble_api_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__ble__service__api___w_p_t_s__client.html#ga871981d8592f58ccaa022de220061558">Cy_BLE_WPTSC_GetCharacteristicValue</a> (<a class="el" href="structcy__stc__ble__conn__handle__t.html">cy_stc_ble_conn_handle_t</a> connHandle, <a class="el" href="group__group__ble__service__api___w_p_t_s__definitions.html#gaa487cfa444741a51b293f4e2fb64cadd">cy_en_ble_wpts_char_index_t</a> charIndex)</td></tr>
<tr class="memdesc:ga871981d8592f58ccaa022de220061558"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to read a characteristic value, which is a value identified by charIndex, from the server.  <a href="#ga871981d8592f58ccaa022de220061558">More...</a><br /></td></tr>
<tr class="separator:ga871981d8592f58ccaa022de220061558"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga182a7314209c6a275c090964ee21386c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__ble__common__api__definitions.html#ga63f6be7f53f5ad7d82c394e4cdfa619e">cy_en_ble_api_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__ble__service__api___w_p_t_s__client.html#ga182a7314209c6a275c090964ee21386c">Cy_BLE_WPTSC_SetCharacteristicDescriptor</a> (<a class="el" href="structcy__stc__ble__conn__handle__t.html">cy_stc_ble_conn_handle_t</a> connHandle, <a class="el" href="group__group__ble__service__api___w_p_t_s__definitions.html#gaa487cfa444741a51b293f4e2fb64cadd">cy_en_ble_wpts_char_index_t</a> charIndex, <a class="el" href="group__group__ble__service__api___w_p_t_s__definitions.html#ga3275af67499f2a030abcf66824e4f895">cy_en_ble_wpts_descr_index_t</a> descrIndex, uint8_t attrSize, uint8_t *attrValue)</td></tr>
<tr class="memdesc:ga182a7314209c6a275c090964ee21386c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to write the characteristic descriptor to the server, which is identified by charIndex and descrIndex.  <a href="#ga182a7314209c6a275c090964ee21386c">More...</a><br /></td></tr>
<tr class="separator:ga182a7314209c6a275c090964ee21386c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad10de3369e086cc7a77ce3e8f935878c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__ble__common__api__definitions.html#ga63f6be7f53f5ad7d82c394e4cdfa619e">cy_en_ble_api_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__ble__service__api___w_p_t_s__client.html#gad10de3369e086cc7a77ce3e8f935878c">Cy_BLE_WPTSC_GetCharacteristicDescriptor</a> (<a class="el" href="structcy__stc__ble__conn__handle__t.html">cy_stc_ble_conn_handle_t</a> connHandle, <a class="el" href="group__group__ble__service__api___w_p_t_s__definitions.html#gaa487cfa444741a51b293f4e2fb64cadd">cy_en_ble_wpts_char_index_t</a> charIndex, <a class="el" href="group__group__ble__service__api___w_p_t_s__definitions.html#ga3275af67499f2a030abcf66824e4f895">cy_en_ble_wpts_descr_index_t</a> descrIndex)</td></tr>
<tr class="memdesc:gad10de3369e086cc7a77ce3e8f935878c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a request to get the characteristic descriptor of the specified characteristic of the service.  <a href="#gad10de3369e086cc7a77ce3e8f935878c">More...</a><br /></td></tr>
<tr class="separator:gad10de3369e086cc7a77ce3e8f935878c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga1dc78b9c67a8b21bc2fc2030fb2fc87e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1dc78b9c67a8b21bc2fc2030fb2fc87e">&#9670;&nbsp;</a></span>Cy_BLE_WPTSC_Discovery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__ble__common__api__definitions.html#ga63f6be7f53f5ad7d82c394e4cdfa619e">cy_en_ble_api_result_t</a> Cy_BLE_WPTSC_Discovery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__ble__common__api__gatt__definitions.html#ga7609ec9fd5973eadda6b98e8dfbda580">cy_ble_gatt_db_attr_handle_t</a>&#160;</td>
          <td class="paramname"><em>servHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcy__stc__ble__conn__handle__t.html">cy_stc_ble_conn_handle_t</a>&#160;</td>
          <td class="paramname"><em>connHandle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function discovers the PRU's WPT service and characteristics using the GATT Primary Service Handle, received through the WPT Service Data within the PRU advertisement payload, together with the handle offsets defined A4WP specification. </p>
<p>The PTU may perform service discovery using the <a class="el" href="group__group__ble__common__api__gatt__client__functions.html#ga285536bcda6cb37ee9a325badb23eb23" title="Starts the automatic server discovery process. ">Cy_BLE_GATTC_StartDiscovery()</a>. This function may be used in response to Service Changed indication or to discover services other than the WPT service supported by the PRU.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">servHandle</td><td>GATT Primary Service Handle of the WPT service. </td></tr>
    <tr><td class="paramname">connHandle</td><td>BLE peer device connection handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A return value of type cy_en_ble_api_result_t.<ul>
<li>CY_BLE_SUCCESS - The request was handled successfully</li>
<li>CY_BLE_ERROR_MEMORY_ALLOCATION_FAILED - All client instances are used. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaf3920321a4c662e0e59e211e9b10559c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf3920321a4c662e0e59e211e9b10559c">&#9670;&nbsp;</a></span>Cy_BLE_WPTSC_SetCharacteristicValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__ble__common__api__definitions.html#ga63f6be7f53f5ad7d82c394e4cdfa619e">cy_en_ble_api_result_t</a> Cy_BLE_WPTSC_SetCharacteristicValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcy__stc__ble__conn__handle__t.html">cy_stc_ble_conn_handle_t</a>&#160;</td>
          <td class="paramname"><em>connHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__ble__service__api___w_p_t_s__definitions.html#gaa487cfa444741a51b293f4e2fb64cadd">cy_en_ble_wpts_char_index_t</a>&#160;</td>
          <td class="paramname"><em>charIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>attrSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>attrValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to write the characteristic (which is identified by charIndex) value attribute in the server. </p>
<p>As a result a Write Request is sent to the GATT Server and on successful execution of the request on the Server side, the CY_BLE_EVT_WPTSS_WRITE_CHAR event is generated. On successful request execution on the Server side, the Write Response is sent to the Client.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connHandle</td><td>The connection handle. </td></tr>
    <tr><td class="paramname">charIndex</td><td>The index of a service characteristic of type cy_en_ble_wpts_char_index_t. </td></tr>
    <tr><td class="paramname">attrSize</td><td>The size of the characteristic value attribute. </td></tr>
    <tr><td class="paramname">attrValue</td><td>The pointer to the characteristic value data that should be send to the server device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A return value of type cy_en_ble_api_result_t.<ul>
<li>CY_BLE_SUCCESS - The request was sent successfully</li>
<li>CY_BLE_ERROR_INVALID_PARAMETER - Validation of the input parameters failed</li>
<li>CY_BLE_ERROR_MEMORY_ALLOCATION_FAILED - Memory allocation failed</li>
<li>CY_BLE_ERROR_INVALID_STATE - Connection with the server is not established</li>
<li>CY_BLE_ERROR_GATT_DB_INVALID_ATTR_HANDLE - The peer device doesn't have the particular characteristic</li>
<li>CY_BLE_ERROR_INVALID_OPERATION - Operation is invalid for this characteristic</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Events</dt><dd>In case of successful execution (return value = CY_BLE_SUCCESS) the following events can appear: <br />
 If the WPTS service-specific callback is registered (with Cy_BLE_WPTS_RegisterAttrCallback):<ul>
<li>CY_BLE_EVT_WPTSC_WRITE_CHAR_RESPONSE - In case if the requested attribute is successfully written on the peer device, the details (char index, etc.) are provided with event parameter structure of type <a class="el" href="structcy__stc__ble__wpts__char__value__t.html" title="WPTS Characteristic value parameter structure. ">cy_stc_ble_wpts_char_value_t</a>.</li>
</ul>
Otherwise (if the WPTS service-specific callback is not registered):<ul>
<li>CY_BLE_EVT_GATTC_WRITE_RSP - In case if the requested attribute is successfully written on the peer device.</li>
<li>CY_BLE_EVT_GATTC_ERROR_RSP - In case if an error occurred with the requested attribute on the peer device, the details are provided with event parameters structure (<a class="el" href="structcy__stc__ble__gatt__err__param__t.html" title="Error parameter. ">cy_stc_ble_gatt_err_param_t</a>). </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga871981d8592f58ccaa022de220061558"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga871981d8592f58ccaa022de220061558">&#9670;&nbsp;</a></span>Cy_BLE_WPTSC_GetCharacteristicValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__ble__common__api__definitions.html#ga63f6be7f53f5ad7d82c394e4cdfa619e">cy_en_ble_api_result_t</a> Cy_BLE_WPTSC_GetCharacteristicValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcy__stc__ble__conn__handle__t.html">cy_stc_ble_conn_handle_t</a>&#160;</td>
          <td class="paramname"><em>connHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__ble__service__api___w_p_t_s__definitions.html#gaa487cfa444741a51b293f4e2fb64cadd">cy_en_ble_wpts_char_index_t</a>&#160;</td>
          <td class="paramname"><em>charIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to read a characteristic value, which is a value identified by charIndex, from the server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connHandle</td><td>The connection handle. </td></tr>
    <tr><td class="paramname">charIndex</td><td>The index of a service characteristic of type cy_en_ble_wpts_char_index_t.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A return value of type cy_en_ble_api_result_t.<ul>
<li>CY_BLE_SUCCESS - The read request was sent successfully.</li>
<li>CY_BLE_ERROR_INVALID_PARAMETER - Validation of the input parameters failed.</li>
<li>CY_BLE_ERROR_GATT_DB_INVALID_ATTR_HANDLE - The peer device doesn't have the particular characteristic.</li>
<li>CY_BLE_ERROR_MEMORY_ALLOCATION_FAILED - Memory allocation failed.</li>
<li>CY_BLE_ERROR_INVALID_STATE - Connection with the server is not established.</li>
<li>CY_BLE_ERROR_INVALID_OPERATION - Operation is invalid for this characteristic.</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Events</dt><dd>In case of successful execution (return value = CY_BLE_SUCCESS) the following events can appear: <br />
 If the WPTS service-specific callback is registered (with Cy_BLE_WPTS_RegisterAttrCallback):<ul>
<li>CY_BLE_EVT_WPTSC_READ_CHAR_RESPONSE - In case if the requested attribute is successfully read on the peer device, the details (char index , value, etc.) are provided with event parameter structure of type <a class="el" href="structcy__stc__ble__wpts__char__value__t.html" title="WPTS Characteristic value parameter structure. ">cy_stc_ble_wpts_char_value_t</a>.</li>
</ul>
Otherwise (if the WPTS service-specific callback is not registered):<ul>
<li>CY_BLE_EVT_GATTC_READ_RSP - In case if the requested attribute is successfully read on the peer device, the details (handle, value, etc.) are provided with event parameters structure (<a class="el" href="structcy__stc__ble__gattc__read__rsp__param__t.html" title="Read response parameter type received from server. ">cy_stc_ble_gattc_read_rsp_param_t</a>).</li>
<li>CY_BLE_EVT_GATTC_ERROR_RSP - In case if an error occurred with the requested attribute on the peer device, the details are provided with event parameters structure (<a class="el" href="structcy__stc__ble__gatt__err__param__t.html" title="Error parameter. ">cy_stc_ble_gatt_err_param_t</a>). </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga182a7314209c6a275c090964ee21386c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga182a7314209c6a275c090964ee21386c">&#9670;&nbsp;</a></span>Cy_BLE_WPTSC_SetCharacteristicDescriptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__ble__common__api__definitions.html#ga63f6be7f53f5ad7d82c394e4cdfa619e">cy_en_ble_api_result_t</a> Cy_BLE_WPTSC_SetCharacteristicDescriptor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcy__stc__ble__conn__handle__t.html">cy_stc_ble_conn_handle_t</a>&#160;</td>
          <td class="paramname"><em>connHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__ble__service__api___w_p_t_s__definitions.html#gaa487cfa444741a51b293f4e2fb64cadd">cy_en_ble_wpts_char_index_t</a>&#160;</td>
          <td class="paramname"><em>charIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__ble__service__api___w_p_t_s__definitions.html#ga3275af67499f2a030abcf66824e4f895">cy_en_ble_wpts_descr_index_t</a>&#160;</td>
          <td class="paramname"><em>descrIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>attrSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>attrValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to write the characteristic descriptor to the server, which is identified by charIndex and descrIndex. </p>
<p>Internally, Write Request is sent to the GATT Server and on successful execution of the request on the Server side, the following events can be generated:</p><ul>
<li>CY_BLE_EVT_WPTSS_NOTIFICATION_ENABLED</li>
<li>CY_BLE_EVT_WPTSS_NOTIFICATION_DISABLED</li>
<li>CY_BLE_EVT_WPTSS_INDICATION_ENABLED</li>
<li>CY_BLE_EVT_WPTSS_INDICATION_DISABLED</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connHandle</td><td>The connection handle. </td></tr>
    <tr><td class="paramname">charIndex</td><td>The index of a service characteristic of type cy_en_ble_wpts_char_index_t. </td></tr>
    <tr><td class="paramname">descrIndex</td><td>The index of a service characteristic descriptor of type cy_en_ble_wpts_descr_index_t. </td></tr>
    <tr><td class="paramname">attrSize</td><td>The size of the characteristic value attribute. </td></tr>
    <tr><td class="paramname">attrValue</td><td>The pointer to the characteristic descriptor value data that should be sent to the server device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A return value of type cy_en_ble_api_result_t.<ul>
<li>CY_BLE_SUCCESS - The request was sent successfully.</li>
<li>CY_BLE_ERROR_INVALID_PARAMETER - Validation of the input parameters failed.</li>
<li>CY_BLE_ERROR_INVALID_STATE - The state is not valid.</li>
<li>CY_BLE_ERROR_MEMORY_ALLOCATION_FAILED - Memory allocation failed.</li>
<li>CY_BLE_ERROR_INVALID_OPERATION - This operation is not permitted on the specified attribute.</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Events</dt><dd>In case of successful execution (return value = CY_BLE_SUCCESS) the following events can appear: <br />
 If the WPTS service-specific callback is registered (with Cy_BLE_WPTS_RegisterAttrCallback):<ul>
<li>CY_BLE_EVT_WPTSC_WRITE_DESCR_RESPONSE - In case if the requested attribute is successfully written on the peer device, the details (char index, descr index etc.) are provided with event parameter structure of type <a class="el" href="structcy__stc__ble__wpts__descr__value__t.html" title="WPTS Characteristic descriptor value parameter structure. ">cy_stc_ble_wpts_descr_value_t</a>.</li>
</ul>
Otherwise (if the WPTS service-specific callback is not registered):<ul>
<li>CY_BLE_EVT_GATTC_WRITE_RSP - In case if the requested attribute is successfully written on the peer device.</li>
<li>CY_BLE_EVT_GATTC_ERROR_RSP - In case if an error occurred with the requested attribute on the peer device, the details are provided with event parameters structure (<a class="el" href="structcy__stc__ble__gatt__err__param__t.html" title="Error parameter. ">cy_stc_ble_gatt_err_param_t</a>). </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gad10de3369e086cc7a77ce3e8f935878c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad10de3369e086cc7a77ce3e8f935878c">&#9670;&nbsp;</a></span>Cy_BLE_WPTSC_GetCharacteristicDescriptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__ble__common__api__definitions.html#ga63f6be7f53f5ad7d82c394e4cdfa619e">cy_en_ble_api_result_t</a> Cy_BLE_WPTSC_GetCharacteristicDescriptor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcy__stc__ble__conn__handle__t.html">cy_stc_ble_conn_handle_t</a>&#160;</td>
          <td class="paramname"><em>connHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__ble__service__api___w_p_t_s__definitions.html#gaa487cfa444741a51b293f4e2fb64cadd">cy_en_ble_wpts_char_index_t</a>&#160;</td>
          <td class="paramname"><em>charIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__ble__service__api___w_p_t_s__definitions.html#ga3275af67499f2a030abcf66824e4f895">cy_en_ble_wpts_descr_index_t</a>&#160;</td>
          <td class="paramname"><em>descrIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a request to get the characteristic descriptor of the specified characteristic of the service. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connHandle</td><td>The connection handle. </td></tr>
    <tr><td class="paramname">charIndex</td><td>The index of a service characteristic of type cy_en_ble_wpts_char_index_t. </td></tr>
    <tr><td class="paramname">descrIndex</td><td>The index of a service characteristic descriptor of type cy_en_ble_wpts_descr_index_t.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>CY_BLE_SUCCESS - The request was sent successfully.</li>
<li>CY_BLE_ERROR_INVALID_PARAMETER - Validation of the input parameters failed.</li>
<li>CY_BLE_ERROR_INVALID_STATE - The state is not valid.</li>
<li>CY_BLE_ERROR_MEMORY_ALLOCATION_FAILED - Memory allocation failed.</li>
<li>CY_BLE_ERROR_INVALID_OPERATION - This operation is not permitted on the specified attribute.</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Events</dt><dd>In case of successful execution (return value = CY_BLE_SUCCESS) the following events can appear: <br />
 If the WPTS service-specific callback is registered (with Cy_BLE_WPTS_RegisterAttrCallback):<ul>
<li>CY_BLE_EVT_WPTSC_READ_DESCR_RESPONSE - In case if the requested attribute is successfully read on the peer device, the details (char index, descr index, value, etc.) are provided with event parameter structure of type <a class="el" href="structcy__stc__ble__wpts__descr__value__t.html" title="WPTS Characteristic descriptor value parameter structure. ">cy_stc_ble_wpts_descr_value_t</a>.</li>
</ul>
Otherwise (if the WPTS service-specific callback is not registered):<ul>
<li>CY_BLE_EVT_GATTC_READ_RSP - In case if the requested attribute is successfully read on the peer device, the details (handle, value, etc.) are provided with event parameters structure (<a class="el" href="structcy__stc__ble__gattc__read__rsp__param__t.html" title="Read response parameter type received from server. ">cy_stc_ble_gattc_read_rsp_param_t</a>).</li>
<li>CY_BLE_EVT_GATTC_ERROR_RSP - In case if an error occurred with the requested attribute on the peer device, the details are provided with event parameters structure (<a class="el" href="structcy__stc__ble__gatt__err__param__t.html" title="Error parameter. ">cy_stc_ble_gatt_err_param_t</a>). </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>Cypress BLE Middleware Library</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
