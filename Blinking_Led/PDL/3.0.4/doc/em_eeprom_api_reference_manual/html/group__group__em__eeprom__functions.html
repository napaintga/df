<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cypress Em_EEPROM Middleware Library: Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="cypress_logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cypress Em_EEPROM Middleware Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__group__em__eeprom__functions.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Functions</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p>This section describes the Emulated EEPROM Function Prototypes. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga49df98ebc721d60425f383ef90a1e8e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__em__eeprom__enums.html#ga00cb0e6ed68329cd7aba18e3a93e13d2">cy_en_em_eeprom_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__em__eeprom__functions.html#ga49df98ebc721d60425f383ef90a1e8e0">Cy_Em_EEPROM_Init</a> (<a class="el" href="structcy__stc__eeprom__config__t.html">cy_stc_eeprom_config_t</a> *config, <a class="el" href="structcy__stc__eeprom__context__t.html">cy_stc_eeprom_context_t</a> *context)</td></tr>
<tr class="memdesc:ga49df98ebc721d60425f383ef90a1e8e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the Emulated EEPROM library by filling the context structure.  <a href="#ga49df98ebc721d60425f383ef90a1e8e0">More...</a><br /></td></tr>
<tr class="separator:ga49df98ebc721d60425f383ef90a1e8e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e14084e3054f6f147004d2914f9216d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__em__eeprom__enums.html#ga00cb0e6ed68329cd7aba18e3a93e13d2">cy_en_em_eeprom_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__em__eeprom__functions.html#ga9e14084e3054f6f147004d2914f9216d">Cy_Em_EEPROM_Read</a> (uint32_t addr, void *eepromData, uint32_t size, <a class="el" href="structcy__stc__eeprom__context__t.html">cy_stc_eeprom_context_t</a> *context)</td></tr>
<tr class="memdesc:ga9e14084e3054f6f147004d2914f9216d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function takes the logical EEPROM address, converts it to the actual physical address where the data is stored and returns the data to the user.  <a href="#ga9e14084e3054f6f147004d2914f9216d">More...</a><br /></td></tr>
<tr class="separator:ga9e14084e3054f6f147004d2914f9216d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga403fa336326037e37b84abb21d0e2fe0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__em__eeprom__enums.html#ga00cb0e6ed68329cd7aba18e3a93e13d2">cy_en_em_eeprom_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__em__eeprom__functions.html#ga403fa336326037e37b84abb21d0e2fe0">Cy_Em_EEPROM_Write</a> (uint32_t addr, void *eepromData, uint32_t size, <a class="el" href="structcy__stc__eeprom__context__t.html">cy_stc_eeprom_context_t</a> *context)</td></tr>
<tr class="memdesc:ga403fa336326037e37b84abb21d0e2fe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function takes the logical EEPROM address and converts it to the actual physical address and writes data there.  <a href="#ga403fa336326037e37b84abb21d0e2fe0">More...</a><br /></td></tr>
<tr class="separator:ga403fa336326037e37b84abb21d0e2fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad61dbc3c01d2bbf96e0c0d5b6d2e0b61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__em__eeprom__enums.html#ga00cb0e6ed68329cd7aba18e3a93e13d2">cy_en_em_eeprom_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__em__eeprom__functions.html#gad61dbc3c01d2bbf96e0c0d5b6d2e0b61">Cy_Em_EEPROM_Erase</a> (<a class="el" href="structcy__stc__eeprom__context__t.html">cy_stc_eeprom_context_t</a> *context)</td></tr>
<tr class="memdesc:gad61dbc3c01d2bbf96e0c0d5b6d2e0b61"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function erases the entire contents of the EEPROM.  <a href="#gad61dbc3c01d2bbf96e0c0d5b6d2e0b61">More...</a><br /></td></tr>
<tr class="separator:gad61dbc3c01d2bbf96e0c0d5b6d2e0b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7fb39640526ce706a7867d955d2b275"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__em__eeprom__functions.html#gad7fb39640526ce706a7867d955d2b275">Cy_Em_EEPROM_NumWrites</a> (<a class="el" href="structcy__stc__eeprom__context__t.html">cy_stc_eeprom_context_t</a> *context)</td></tr>
<tr class="memdesc:gad7fb39640526ce706a7867d955d2b275"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of the EEPROM writes completed so far.  <a href="#gad7fb39640526ce706a7867d955d2b275">More...</a><br /></td></tr>
<tr class="separator:gad7fb39640526ce706a7867d955d2b275"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga49df98ebc721d60425f383ef90a1e8e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga49df98ebc721d60425f383ef90a1e8e0">&#9670;&nbsp;</a></span>Cy_Em_EEPROM_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__em__eeprom__enums.html#ga00cb0e6ed68329cd7aba18e3a93e13d2">cy_en_em_eeprom_status_t</a> Cy_Em_EEPROM_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcy__stc__eeprom__config__t.html">cy_stc_eeprom_config_t</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcy__stc__eeprom__context__t.html">cy_stc_eeprom_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the Emulated EEPROM library by filling the context structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The pointer to a configuration structure. See <a class="el" href="structcy__stc__eeprom__config__t.html">cy_stc_eeprom_config_t</a>.</td></tr>
    <tr><td class="paramname">context</td><td>The pointer to the EEPROM context structure to be filled by the function. <a class="el" href="structcy__stc__eeprom__context__t.html">cy_stc_eeprom_context_t</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error / status code. See <a class="el" href="group__group__em__eeprom__enums.html#ga00cb0e6ed68329cd7aba18e3a93e13d2">cy_en_em_eeprom_status_t</a>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The context structure should not be modified by the user after it is filled with this function. Modification of context structure may cause the unexpected behavior of the Cy_Em_EEPROM API functions which rely on it.</dd>
<dd>
This function uses a buffer of the flash row size to perform read operation. For the size of the row refer to the specific PSoC device datasheet.</dd></dl>
<dl class="section user"><dt>Side Effects</dt><dd>If the "Redundant Copy" option is used, the function performs a number of write operations to the EEPROM to initialize flash rows checksums. Therefore, <a class="el" href="group__group__em__eeprom__functions.html#gad7fb39640526ce706a7867d955d2b275" title="Returns the number of the EEPROM writes completed so far. ">Cy_Em_EEPROM_NumWrites()</a>, when it is called right after <a class="el" href="group__group__em__eeprom__functions.html#ga49df98ebc721d60425f383ef90a1e8e0" title="Initializes the Emulated EEPROM library by filling the context structure. ">Cy_Em_EEPROM_Init()</a>, will return a non-zero value that identifies the number of writes performed by <a class="el" href="group__group__em__eeprom__functions.html#ga49df98ebc721d60425f383ef90a1e8e0" title="Initializes the Emulated EEPROM library by filling the context structure. ">Cy_Em_EEPROM_Init()</a>. </dd></dl>

</div>
</div>
<a id="ga9e14084e3054f6f147004d2914f9216d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9e14084e3054f6f147004d2914f9216d">&#9670;&nbsp;</a></span>Cy_Em_EEPROM_Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__em__eeprom__enums.html#ga00cb0e6ed68329cd7aba18e3a93e13d2">cy_en_em_eeprom_status_t</a> Cy_Em_EEPROM_Read </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>eepromData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcy__stc__eeprom__context__t.html">cy_stc_eeprom_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function takes the logical EEPROM address, converts it to the actual physical address where the data is stored and returns the data to the user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>The logical start address in EEPROM to start reading data from.</td></tr>
    <tr><td class="paramname">eepromData</td><td>The pointer to a user array to write data to.</td></tr>
    <tr><td class="paramname">size</td><td>The amount of data to read.</td></tr>
    <tr><td class="paramname">context</td><td>The pointer to the EEPROM context structure <a class="el" href="structcy__stc__eeprom__context__t.html">cy_stc_eeprom_context_t</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns <a class="el" href="group__group__em__eeprom__enums.html#ga00cb0e6ed68329cd7aba18e3a93e13d2">cy_en_em_eeprom_status_t</a>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function uses a buffer of the flash row size to perform read operation. For the size of the row refer to the specific PSoC device datasheet.</dd>
<dd>
In case if redundant copy option is enabled the function may perform writes to EEPROM. This is done in case if the data in the EEPPROM is corrupted and the data in redundant copy is valid based on CRC-8 data integrity check. </dd></dl>

</div>
</div>
<a id="ga403fa336326037e37b84abb21d0e2fe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga403fa336326037e37b84abb21d0e2fe0">&#9670;&nbsp;</a></span>Cy_Em_EEPROM_Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__em__eeprom__enums.html#ga00cb0e6ed68329cd7aba18e3a93e13d2">cy_en_em_eeprom_status_t</a> Cy_Em_EEPROM_Write </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>eepromData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcy__stc__eeprom__context__t.html">cy_stc_eeprom_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function takes the logical EEPROM address and converts it to the actual physical address and writes data there. </p>
<p>If wear leveling is implemented, the writing process will use the wear leveling techniques. This is a blocking function and it does not return until the write operation is completed. The user firmware should not enter Hibernate mode until write is completed. The write operation is allowed in Sleep and Deep-Sleep modes. During the flash operation, the device should not be reset, including the XRES pin, a software reset, and watchdog reset sources. Also, low-voltage detect circuits should be configured to generate an interrupt instead of a reset. Otherwise, portions of flash may undergo unexpected changes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>The logical start address in EEPROM to start writing data from.</td></tr>
    <tr><td class="paramname">eepromData</td><td>Data to write to EEPROM.</td></tr>
    <tr><td class="paramname">size</td><td>The amount of data to write to EEPROM.</td></tr>
    <tr><td class="paramname">context</td><td>The pointer to the EEPROM context structure <a class="el" href="structcy__stc__eeprom__context__t.html">cy_stc_eeprom_context_t</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns <a class="el" href="group__group__em__eeprom__enums.html#ga00cb0e6ed68329cd7aba18e3a93e13d2">cy_en_em_eeprom_status_t</a>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function uses a buffer of the flash row size to perform write operation. For the size of the row refer to the specific PSoC device datasheet.</dd></dl>
<dl class="section user"><dt>Side Effects</dt><dd>In case when blocking write option is used, if this function is called by the CM4 the user code on CM0P and the user code on CM4 are blocked until erase flash row operation is finished. If this function is called by the CM0P the user code on CM4 is not blocked and the user code on CM0P is blocked until erase flash row operation is finished. Plan your task allocation accordingly.</dd></dl>
<dl class="section user"><dt>Side Effects</dt><dd>In case if non-blocking write option is used and when user flash is used as an EEPROM storage care should be taken to prevent the read while write (RWW) exception. To prevent the RWW exception the user flash macro that includes the EEPROM storage should not be read while the EEPROM write is not completed. The read also means the user code execution from the respective flash macro. </dd></dl>

</div>
</div>
<a id="gad61dbc3c01d2bbf96e0c0d5b6d2e0b61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad61dbc3c01d2bbf96e0c0d5b6d2e0b61">&#9670;&nbsp;</a></span>Cy_Em_EEPROM_Erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__em__eeprom__enums.html#ga00cb0e6ed68329cd7aba18e3a93e13d2">cy_en_em_eeprom_status_t</a> Cy_Em_EEPROM_Erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcy__stc__eeprom__context__t.html">cy_stc_eeprom_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function erases the entire contents of the EEPROM. </p>
<p>Erased values are all zeros. This is a blocking function and it does not return until the write operation is completed. The user firmware should not enter Hibernate mode until erase is completed. The erase operation is allowed in Sleep and Deep-Sleep modes. During the flash operation, the device should not be reset, including the XRES pin, a software reset, and watchdog reset sources. Also, low-voltage detect circuits should be configured to generate an interrupt instead of a reset. Otherwise, portions of flash may undergo unexpected changes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The pointer to the EEPROM context structure <a class="el" href="structcy__stc__eeprom__context__t.html">cy_stc_eeprom_context_t</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns <a class="el" href="group__group__em__eeprom__enums.html#ga00cb0e6ed68329cd7aba18e3a93e13d2">cy_en_em_eeprom_status_t</a>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>For all non PSoC 6 devices the erase operation is performed by clearing the EEPROM data using flash write. This affects the flash durability. So it is recommended to use this function in utmost case to prolongate flash life.</dd>
<dd>
This function uses a buffer of the flash row size to perform erase operation. For the size of the row refer to the specific PSoC device datasheet.</dd></dl>
<dl class="section user"><dt>Side Effects</dt><dd>In case when blocking write option is used, if this function is called by the CM4 the user code on CM0P and the user code on CM4 are blocked until erase flash row operation is finished. If this function is called by the CM0P the user code on CM4 is not blocked and the user code on CM0P is blocked until erase flash row operation is finished. Plan your task allocation accordingly.</dd></dl>
<dl class="section user"><dt>Side Effects</dt><dd>In case if non-blocking write option is used and when user flash is used as an EEPROM storage care should be taken to prevent the read while write (RWW) exception. To prevent the RWW exception the user flash macro that includes the EEPROM storage should not be read while the EEPROM erase is not completed. The read also means the user code execution from the respective flash macro. </dd></dl>

</div>
</div>
<a id="gad7fb39640526ce706a7867d955d2b275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad7fb39640526ce706a7867d955d2b275">&#9670;&nbsp;</a></span>Cy_Em_EEPROM_NumWrites()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Cy_Em_EEPROM_NumWrites </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcy__stc__eeprom__context__t.html">cy_stc_eeprom_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of the EEPROM writes completed so far. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The pointer to the EEPROM context structure <a class="el" href="structcy__stc__eeprom__context__t.html">cy_stc_eeprom_context_t</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of writes performed to the EEPROM. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>Cypress Em_EEPROM Middleware Library</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
